<script setup lang="ts">
import katex from 'katex'

const p = defineProps<{ content: string }>()

const renderFormula = (node: any) => {
  try {
    katex.render(p.content, node)
  } catch (e) {
    console.error(`Error rendering formula: ${e}`)
  }
}

const formulaRef = (node: any) => {
  if (node) {
    renderFormula(node)
  }
}
</script>

<template>
  <div
    data-cy="block-formula"
    className="w-full overflow-y-hidden bg-white flex justify-center"
    :ref="formulaRef"
  ></div>
</template>
